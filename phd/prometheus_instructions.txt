docker build -t client_pod:v198 . && docker tag client_pod:v198 pepi1989/client_pod:v198 && docker push pepi1989/client_pod:v198
kubectl apply -f agent_role_role_binding.yaml
kubectl apply -f agent_deployment.yaml


# to test the deployment
kubectl get pods
watch kubectl logs <pod-name>

# to delete

kubectl delete -f agent_role_role_binding.yaml 
kubectl delete -f agent_deployment.yaml

#when strting deploying the appliction when the k8s hs been installed please add the node labels
kubectl label nodes <node-name> custom-label=pepi-master


# for master weights receive functionlity

docker build -t fdl_master:v13  . && docker tag fdl_master:v13 pepi1989/fdl_master:v13  && docker push pepi1989/fdl_master:v13
kubectl apply -f fdl-receive-master-weights-pvc.yaml
kubectl apply -f fdl-receive-node-notebook-pvc.yaml
kubectl apply -f fdl-master-aggregated-json-files-pvc.yaml
kubectl apply -f fdl-master-federated-send-results-pvc.yaml
kubectl apply -f fdl-receive-deployment.yaml
kubectl apply -f fdl-receive-service.yaml



# to delete
kubectl delete -f fdl-receive-deployment.yaml
kubectl delete -f fdl-receive-service.yaml
kubectl delete -f fdl-receive-master-weights-pvc.yaml
kubectl delete -f fdl-receive-node-notebook-pvc.yaml
kubectl delete -f fdl-master-aggregated-json-files-pvc.yaml
kubectl delete -f fdl-master-federated-send-results-pvc.yaml
